# Credenciais do Banco de Dados PostgreSQL
POSTGRES_DB=ai_project
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=ai_postgres
POSTGRES_PORT=5432

# Caminho dos documentos dentro do container (não alterar)
DATA_PATH_CONTAINER=/app/data

# Chave de API para o Google Gemini
# Obtenha sua chave em: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY="INSIRA_SUA_CHAVE_GEMINI_AQUI"

# Modelo do Gemini a ser usado pela IA
# Opções incluem: gemini-1.5-flash-latest, gemini-1.5-pro-latest, models/gemma2-27b-it, etc.
GOOGLE_MODEL="models/gemini-2.5-flash-lite"

# Threshold de similaridade para a busca FAISS. Apenas resultados com score
# MENOR que este valor serão considerados. Valores mais baixos (ex: 0.7) são mais rigorosos.
FAISS_SCORE_THRESHOLD=0.3

# Caminho do FAISS (dentro do container; ETL escreve e API lê)
FAISS_OUT_DIR=/app/vector_store/faiss_index
FAISS_STORE_DIR=/app/vector_store/faiss_index

# Embeddings multilíngue
#EMBEDDINGS_MODEL_NAME=intfloat/multilingual-e5-base
EMBEDDINGS_MODEL=intfloat/multilingual-e5-large

# Health: precisa do LLM pronto para considerar a API "ready"?
REQUIRE_LLM_READY=true

# Reranker (cross-encoder)
# Presets disponíveis: off | fast | balanced | full
RERANKER_PRESET=balanced
RERANKER_ENABLED=true
RERANKER_NAME=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANKER_CANDIDATES=48
RERANKER_TOP_K=8
RERANKER_MAX_LEN=512
RERANKER_DEVICE=cpu

# Multi-query
MQ_ENABLED=true
MQ_VARIANTS=3

# Confiança / fallback
CONFIDENCE_MIN=0.32
REQUIRE_CONTEXT=true

# Resposta estruturada e citações
STRUCTURED_ANSWER=true
MAX_SOURCES=5

# Debug
DEBUG_LOG=true
DEBUG_PAYLOAD=true

LOG_DIR=./logs
HYBRID_ENABLED=true
MAX_PER_SOURCE=2
LEXICAL_THRESHOLD=80
DEPT_BONUS=12

# (DIAGNÓSTICO) Remova para permitir rota lexical quando houver match
# ROUTE_FORCE=vector
